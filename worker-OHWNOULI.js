var o=[];onmessage=e=>{if(e.data!==null){if(e.data.type==="ScheduledNotificationRegistration"){a(e.data,e.source);return}if(e.data.type==="ScheduledNotificationCancellation"){s(e.data);return}}};self.addEventListener("periodicsync",()=>{let e=Date.now(),t=[];for(let i of o)i.message.notification.timestamp<e&&(n(i.source,i.message),t.push(i));o=o.filter(i=>!t.includes(i))});function a(e,t){o.push({message:e,source:t})}function s(e){console.log(e)}function n(e,t){if(e&&e.postMessage){let i={type:"ScheduledNotificationInvocation",notification:t.notification};e.postMessage(i)}}
